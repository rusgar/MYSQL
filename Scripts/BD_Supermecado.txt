DROP DATABASE IF EXISTS SUPERMERCADO;
CREATE DATABASE SUPERMERCADO CHARACTER SET utf8mb4;
USE SUPERMERCADO;



DROP database IF exists PRODUCTO;
CREATE TABLE PRODUCTO (
    ID_PRODUCTO INT NOT NULL AUTO_INCREMENT,
    NOMBRE varchar(50) NOT NULL,
    DESCRIPCION varchar(120) NOT NULL,
    PRECIO varchar(9)  NOT NULL,
    STOCK INT  NOT NULL  ,
    constraint PRODUCTO PRIMARY KEY(ID_PRODUCTO)
    );
    
DROP database IF exists VENTA;
CREATE TABLE VENTA (
    ID_VENTA int NOT NULL AUTO_INCREMENT,
    ID_EMPLEADO INT NOT NULL,
    ID_PRODUCTO INT NOT NULL,
    CANTIDAD INT,
    PRECIO float(10)  NOT NULL,
    TOTAL FLOAT(10),
     CONSTRAINT VENTA PRIMARY KEY (ID_VENTA),
     CONSTRAINT FK_VENTA_ID_PRODUCTO foreign key (ID_PRODUCTO) REFERENCES PRODUCTO (ID_PRODUCTO)
    
    
    );
    
DROP database IF exists EMPLEADO;
CREATE TABLE EMPLEADO (
    ID_EMPLEADO INT NOT NULL AUTO_INCREMENT,    
    NOMBRE VARCHAR(50),
    APELLIDOS VARCHAR(200),    
    constraint EMPLEADO PRIMARY KEY(ID_EMPLEADO)
    
);

DROP database IF exists ASIGNACION;
CREATE TABLE ASIGNACION (
    ID_EMPLEADO INT NOT NULL ,    
    ID_VENTA INT NOT NULL,   
    CONSTRAINT FK_ASIGNACION_ID_VENTA foreign key (ID_VENTA) REFERENCES VENTA (ID_VENTA),
    CONSTRAINT FK_ASIGNACION_ID_EMPLEADO foreign key (ID_EMPLEADO) REFERENCES EMPLEADO (ID_EMPLEADO)
);


INSERT INTO producto VALUES(1, 'Baguette', 'Pan de Maiz', 1,  100);
INSERT INTO producto VALUES(2, 'Coca-Cola', 'Bebida con gas', 1.5,  1000);
INSERT INTO producto VALUES(3, 'Cheese Burger', 'Comida con queso', 3,  2000);

INSERT INTO empleado VALUES(default, 'Dark ','Vaider');
INSERT INTO empleado VALUES(default, 'Luck ','Skywwaler');